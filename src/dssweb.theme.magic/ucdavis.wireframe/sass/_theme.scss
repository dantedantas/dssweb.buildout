/* _theme.scss */

// See JS for Windows Phone 8 / IE 10 viewport issues
@-webkit-viewport{width:device-width}
@-moz-viewport{width:device-width}
@-ms-viewport{width:device-width}
@-o-viewport{width:device-width}
@viewport{width:device-width}

body:after { 
	content: "XS"; 
	display: none;
}
head {
	font-family: 'XS';
}

/* WAI level-1 compliancy - Bypass Blocks 2.4.1 */
#skip-link {
    left: 50%;
    margin-left: -5.25em;
    margin-top: 0;
    position: absolute;
    width: auto;
    z-index: 50;
		a, a:link, a:visited {
		    background: none repeat scroll 0 0 rgba(0, 0, 0, 0.6);
		    border-radius: 0 0 10px 10px;
		    color: #fff;
		    display: block;
		    padding: 1px 10px 2px;
		    text-decoration: none;
		}
}

.container {
	padding:0;
	&#main {
		//padding:0 !important; // TODO: Breaks fit alignment on mobile
	}
}

/* formerly reset-all */

.btn-primary {
 margin-top: 15px;   
 color: #fff !important;   
}

.sidebar-left {
	.panel {
		//background: $box_light_gray;
	}
}
.sidebar-right {
	//width:250px;
	height:30px;
	
}

// apply to elements needing removable float: right. Topbar has a .right class that is too specific to use
.soft-right {
	float: right;
}
.panel-group {
	.panel-body {
		.narrow-col {
			.content-wrap {
				padding: 15px;
			}
		}
	}
	.sidebar {
		border: none !important;
	}
}
#top-panel-row {
	h2, h3, p, li, div {
		color: #FFF;
	}
}

.body-img {
	border:1px solid red;
	height:120px;
	width:200px;
	float:left;
}


.invisible { // TODO: Use bootstrap class .invisible
	visibility: hidden;
}

button {
	height: 40px;
	width: 120px;
	background-color: $ucd_bright_gold;
	&:hover {
		background-color: $ucd_bright_gold_40;
		cursor: pointer;
	}
}

#utility {
	ul li{	
		text-align:center;
		display: inline;
		list-style-type: none;
		padding-right: 50px;	
		width:100%;
	}
	ul{
		padding-top:100px;
		text-align:center;	
		clear:both;
	}
}

#footer {	
	background-color:$ucd_blue_70;
	min-height:250px;
	//width:100%;
	padding-bottom: 25px;
	margin-bottom: 15px;
	clear:both;
	a {
		text-decoration: none;
	}
	
	.foot-wrap{
		margin: 35px 90px;
		margin-bottom: 0 !important;
		//width:100%; // TODO: Tablet/Mobile right white margin
	}
	
	.footer-nav, #copyright, #vcard{
		float:left;		
		color:#fff;
		text-decoration:none;
		//margin-top:36px;
	}
	#copyright {
		margin-top:36px;
	}
	#email-phone {
		a {
			text-decoration: underline;
		}
	}
	#copyright{
		clear:both;
	}
	.footer-nav{
		border-left: 1px solid white;
		width:140px;		
		li{
			padding-left:10px;
			@include line_height(35px);
			a{
				color:#fff;
			}
		}
	}
	#copyright, #vcard {
		margin-right:135px;
		@include font_size(14px);
		line-height: 1.4em;
		//font-family:lucida;
		a, p{
			color:#fff;
			letter-spacing:.014em;
		}
	}

	#foot-social{
		//width:217px; // TODO: Tablet/Mobile right white margin
		float:left;
		//margin-top:35px;
		//margin-left:85px;
		li{
			display: inline-block;
			text-align: center;
			padding-left: 7px;
			padding-right: 7px;
			border-left: 1px solid white;
			a{
				display: inline-block;
				height: 24px;
				width: 24px;
				color:#fff;
				&#facebook-icon {
					background: url(../images/icons/sm-icon-sprites.png) 0 0 no-repeat;
				}
				&#twitter-icon {
					background: url(../images/icons/sm-icon-sprites.png) -24px 0 no-repeat;
				}
				&#pinterest-icon {
					background: url(../images/icons/sm-icon-sprites.png) -48px 0 no-repeat;
				}
				&#youtube-icon {
					background: url(../images/icons/sm-icon-sprites.png) -72px 0 no-repeat;
				}
				&#linkedin-icon {
					background: url(../images/icons/sm-icon-sprites.png) -96px 0 no-repeat;
				}
			}
			&.last{ 
				border-right: 1px solid white;
			}
		}	

	}
}


input{
   text-align:center;
}
.contact{
	margin-top:15px;	
}

/* TODO: Careful with global treatment of .content
.content{
	margin-top:47px;
	margin-bottom:40px;
	padding:0;
}
*/


#content-row {
	margin-bottom: 45px;
}
#content, #am-content, #cm-content {

	.breadcrumb {
		background: none;
		padding:0 0 !important;
		margin-bottom:0;
		color: $ucd_blue_80;
		text-transform: uppercase;
		a {
			text-decoration: none;
			&:hover {
				text-decoration: underline;
			}
		}
		p {
			margin-bottom: 0;
		}
		.bread-divider {
			@include font_size(15px);
		}
	}
	
	.panel-body {
		h2 {
			text-transform: uppercase;
		}
	}
	#bottom-panel-row {
		h2 {
			text-transform: none;
		}
	}

	ul {
		@include square-bullet-list();
		margin: 15px 0 15px 2px;
		li {
			padding-bottom: 10px;
		}
	}
	.inline-content, form { // remove global left margin on inline bullets
		ul {
			margin-left: 0 !important;
		}
	}
	
}



.sidebar {
	height:auto;
	//width:250px; // !important; 
	margin-top:15px;
	text-align:left;
	
	> div {
		margin-left: 70px;
	}
	h3{
		//height:30px; // Note: where possible, use _typography.scss line_height specs to determine height
		a{
			color: #fff;
			padding-left: 35px; // was 38px
			padding-right: 30px;
			position: relative;
			top: 4px;
		}
	}

	.panel-heading{
		padding:0;
		.panel-title {
			//background-color: $rec_blue;
			//height: 30px;
			a {
				display: block; // otherwise padding-left doesn't work where multilined title 
				background-color: $rec_blue;
				&:hover{
					//cursor:text;
				}
			}
		}
	}
	// Bio sidebar etc.
	&.sidebar-right {
		> div {
			.panel-body {
				background: $box_light_gray;
			}
		}
		.collapsible{
			background: $box_light_gray;
		}
	}
}


.more_text{
	display:none;	
}

/*.sub-list{ // TODO: Eval
	list-style-type: circle;
	margin-left: 20px;
	li{
		padding-bottom:10px;
	}
}*/

.download{
	font-weight:bold;
}
#downloads{
	a{
		text-decoration: underline;
		color: $ucd_blue_80;
	}
}

.panel-title {
	a{
		background-color: $ucd_bright_gold_40; 
		text-decoration: none;
		&.collapsed {
			background-color: $ucd_bright_gold; 
		}
		&:hover {
			background-color: $ucd_bright_gold_40; 
		}
	}
}

.panel-body{
	h2 {
		@include font_size(18px);
		//@include line_height(24px);
		letter-spacing:.03em;		
	}
	h3{
		@include font_size(15px);
		@include line_height(18px);
		letter-spacing:.01em;
		font-weight:bold;
		margin-top:0;
	}

	.body-img{
		margin-right:20px;
	}
}

.panel-collapse{
	overflow:hidden;	
}
.nav-tabs{
	display:none;
	@include font_size(20px);
}
 

#search{
	width:100px;
}

#content-core .picture {
	margin: 25px 0;
	&.flush-bottom {
		margin: 0 !important;
	}
}

#middle-row {
	position: relative;
}

.row .row {
		margin-left: 0 !important;
		margin-right: 0 !important;
}


// Panel resets
#thumb-section { // Important: Specific content selector since we want to keep our sidebar panel styles
	.panel-group {
		
		section {
			margin-bottom: 10px;
			
			.collapsible.in { // add bottom margin when sections expanded
				//margin-bottom: 50px; // this margin creates an unacceptable jump when panel is opened
			}
			.readmore {
				display: block;
				margin-top: 25px;
				margin-bottom: 40px;
			}
			ul {
				li {
					margin-bottom: 20px;
				}
			}
			.panel-heading {
				background-color: transparent !important;
				padding: 0 !important;
				border-top-left-radius: 0;
				border-top-right-radius: 0;
				.panel-title {
					background-color: transparent !important;
					a {
						display: block;
						height: 70px;
						width: 100%;
						.thumb-txt {
							display: block;
							margin-left: 150px;
						}
						img {
							float: left;
						}
						background: url(../images/icons/blue-100-right-arrow-down.png) 98% 50% no-repeat $ucd_bright_gold_40;
						&.collapsed {
							background: url(../images/icons/blue-100-right-arrow.png) 98% 50% no-repeat $ucd_bright_gold;
						}
				
						&:hover {
							cursor: pointer !important;
							background-color: $ucd_bright_gold_40;
						}
					}
				}
			}
			.panel-body {
				//border-top-width: 0 !important;
				margin-top: 25px;
				margin-left: 150px;
			}
		}
	}	
}

// TODO: Add insert shadow ...
.form-wrap {
	padding: 15px;
	form {
		.form-row {
			padding: 4px 0;
			&.centered {
				text-align: center;
			}
		}
		input, select, textarea {
			width: 100%;
			text-align: left;
			padding: 4px;
		}
		input, select {
			height: 35px;
		}
		#contact-message {
			height: 160px;
		}
		input[type="submit"] {
			height: 40px;
			width: 120px;
			background-color: $ucd_bright_gold;
			text-align: center;
			&:hover {
				background-color: $ucd_bright_gold_40;
				cursor: pointer;
			}
		}
		
	}
}

body.contact-type {
	#content {
		.form-wrap {
			position: relative;
			background-color: $box_light_gray;
		}
	}
}

.col-left {
	margin-top: 45px;
	text-align: right; 
}
.col-right {
	margin-top: 40px;
	
	strong { 
		font-weight: bold; 
	}
	.search-pdf{
		text-decoration: none;
		font-size: 13px;
		
		span{
			margin-left: 10px;
			font-style: italic;
			position: relative;
			top:-3px;
		}
	}
	p{
		margin-bottom: 0px !important;
	}	
}
.search-result .col-right{
	margin-top: 10px; 
}
.results-summary{
	margin-right: 30px;
}

.search-result .content-title{
	padding-bottom: 10px !important;
}

/*------ All Media Queries ----------*/

/*----- Mobile breakpoint --------*/
// At point that left and right margins are gone
@media screen and (max-width: $screen-sm-min) { // width < 768
	.row#banner-row {
		margin-left: 0 !important;
		margin-right: 0 !important;
	}
	.row#content-row {
		margin-left: 0 !important;
		margin-right: 0 !important;
		#content, #am-content {
			margin-top: 10px;
			h1, .breadcrumb {
				//margin-left: 15px;
			}
		}
	}

	#content, #am-content, #cm-content {
		margin-bottom: 15px;
	}
	
	// Remove bootstrap animation from collapsing on small devices where it is slow.
	.collapsing {
		-webkit-transition: none;
		transition: none;
	}
	
	.collapse, .collapsing {
		div {
			padding: 15px;
		}
	}
	.panel {
		border: none;
	}
	.panel-heading {
		padding: 0;
		.panel-title {
			//min-height: 40px;
			width: auto; // undo general 250 width
			padding-top: 0 !important;
			padding-bottom: 0 !important;
			a {
				display: inline-block;
				width: 100%; //TODO: margin-top reveals formatting error
				min-height: 40px;
				
				padding-right: 20px;
				padding-left: 20px !important;
				
				@include font_size(16px);
				// Emphasis on multiline panel-titles
				padding-top: 5px !important;
				@include line_height(22px,!important);
				// @include line_height(40px); // OK for single line. TODO: Treatment for singles not adequate
				text-align: left;

				background: url(../images/icons/blue-100-right-arrow-down.png) 98% 50% no-repeat $ucd_bright_gold_40;
				&.collapsed {
					background: url(../images/icons/blue-100-right-arrow.png) 98% 50% no-repeat $ucd_bright_gold;
				}
				
				&:hover {
					cursor: pointer !important;
					background-color: $ucd_bright_gold_40;
				}
			}
		}
	}

	.sidebar {
		.panel-heading {
			.panel-title {
				a {
					color: $ucd_blue_100 !important;
					top: 0;
					background: url(../images/icons/blue-100-right-arrow-down.png) 98% 50% no-repeat $rec_blue_40;
					&.collapsed {
						color: #FFF !important;
						background: url(../images/icons/white-arrow-right-sm.png) 98% 50% no-repeat $rec_blue;
					}
					&:hover {
						color: $ucd_blue_100 !important;
						background: url(../images/icons/blue-100-right-arrow.png) 98% 50% no-repeat $rec_blue_40;
					}
				}
			}
		}
	}
	#footer {
		margin-bottom: 60px;
	}
	
	#content-row {
		section {
			margin-bottom: 5px;
			.course-portlet {
				padding: 0;
				.course-info {
					padding: 0;
					float: left;
					width: 75%;
					h3 {
						padding: 0;
					}
				}
				button {
					float:left;
					width: 25%;
					height: 40px;
					width: 120px;
					background-color: $ucd_bright_gold;
					&:hover {
						background-color: $ucd_bright_gold_40;
						cursor: pointer;
					}
				}
			}
		}
	}
	
	// Panel resets
	#thumb-section { // Important: Specific content selector since we want to keep our sidebar panel styles
		.panel-group {
			section {
				.readmore {
					display: block;
					margin-top: 8px;
					margin-bottom: 15px;
				}
				ul {
					li {
						margin-bottom: 20px;
					}
				}
				.panel-heading {
					.panel-title {
						a {
							height: 15px;
							.thumb-txt {
								margin-left: 0;
							}
						}
					}
				}
				.panel-body {
					margin-top: 0;
					margin-left: 0;
					padding: 0 !important;
					img.thumb { // Note: We're replacing the smaller thumb with the larger image in mobile via javascript. We initially load the smaller T6-autism.jpg and then look for m-T6-autism.jpg to load in mobile
						width: 280px;
						//height: 160px;
						display: block;
						margin-left: auto;
						margin-right: auto;
						margin-bottom: 15px;
					}
				}
			}
		}	
	}
	
	#main-container {
		#content-row {
			.double {
				.panel-group {
					margin-left: 0 !important;
				}
			}
		}
	}
	
}

@media screen and (min-width: $screen-sm-min) { // width > 768
	
	// pull content left on larger screens so flush left with top-bar
	#content-row {
		margin-top: 45px;
	}
	body.gen-landing {
		#content-row {
			margin-top: 30px; // accomodate for figure caption
		}
	}
	#content, #am-content {
		padding-left: 0 !important;
		//margin-top: 45px;
		margin-bottom: 30px;
		h1, .breadcrumb {
			//margin-left: 15px;
		}
	}
	body.has-shadow-am {
		/*#content-row { // Give banner graphic room
			margin-top: 594px;
		}*/
		/*.am-content {
			margin-top: 60px !important;
			margin-bottom: 30px;
		}*/
	}
  .masthead,
  .marketing,
  #footer {
    padding-right: 0;
    padding-left: 0;
		.foot-wrap {
			#foot-left {
				margin-left: 10%;
			}
		}
  }
	.sidebar{
		.panel-heading{
			.panel-title {
				background-color: $rec_blue;
				//height: 30px; // need to accommodate multiline headings
			}
		}
	}
	.sidebar-right{
		padding-left:0 !important; 
		padding-right:0 !important;
		//margin-top: 145px; // ad-hoc ... set position of sidebar in javascript
	}
}

/*----- Mobile breakpoint -------*/ // TODO: Check error on _bootstrap_overrides vis-a-via this breakpoint max
@media screen and (max-width: $screen-sm-max) { // width < 991px
	head { font-family:"S";}
	body:after{content:"S";}
 	
  /*TODO: Eval and EOL
	#sidebar-bio-right{
		float:left;	  		
		margin-left:0;
		margin-top:10px;
		clear:both;
  }*/
	
	.sidebar {	
		background:transparent;
	}
	.sidebar-right {	
		margin-top:100px;
		//clear:both;
		//float:left !important;
	}
	.util-bar{ // at this breakpoint, yellow bar containing only the UC Davis logo
		margin: 0;
		height: 27px; // 17px logo + 5px top/bottom margin
		ul {
			margin: 0;
			padding: 0;
			li {
				&#uti-logo {
					//padding-left: 15px;
					border-left-width: 0;
					a {
						//margin-top: 5px;
					}
				}
			}
		}
	}
	
	#content, #am-content {
	  min-width:192px;
		clear:both;
	}
	.submenu{
		position:absolute;
		left:-999px !important;
	}
	.headshot{
		padding:0 !important;
		height:100% !important;		
	}

	.menu-icon{
		/* height:80px;
		top:-39px !important;*/
	}
	.glyphicon{
		position:relative;
		top:-18px;
	}
	.sidebar {
		&.sidebar-right{	
			//float:right;
			//margin-top: 100px;	//TODO: margin-top reveals formatting error
			margin-top: 0;
		}
	}
	.op-sidebar-title {
		text-align:left !important;
	}
	#footer {	
		padding-bottom: 5px;
		.foot-wrap{
			margin: 25px;
			p, ul, div {
				margin-left: 0;
				margin-right: 0;
				width: 100%;
				text-align: center;
			}
			#foot-social {
				margin-left: 0 !important;
				margin-right: 0 !important;
				float: none;
			}

		}
		#vcard p, #copyright {
			@include font_size(11px);
		}
		#copyright {
			margin-top: 0;
		}
	}
}


@media screen and (min-width: $screen-sm-min) { // width > 768px


	#top-bar-wrap, #content-row, #banner-row {
		padding-left: 105px; // 90 + 15 px
		padding-right: 105px;
	}
	#util-bar-wrap {
		padding-right: 105px;
	}
	
	.panel-group {
		.panel-heading {
			.panel-title {
				padding-top: 8px;
				padding-bottom: 10px;
			}
		}
	}	
	
	// Panel resets
	#cm-section { // Important: Specific content selector since we want to keep our sidebar panel styles
		.panel-group {
			.panel-heading {
				background-color: transparent !important;
				padding: 0 !important;
				border-top-left-radius: 0;
				border-top-right-radius: 0;
				.panel-title {
					background-color: transparent !important;
				}
			}
			.panel-body {
				border-top-width: 0 !important;
			}
		}	
	}
	

	
	#content-row {
		section {
			margin-bottom: 25px;
			h2 { font-weight: normal;}
			p { }
		
			.course-portlet {
				//border: 1px solid #CCC;
				position: relative;
				margin-bottom: 45px;
				.course-info {
					width: 60%;
					h3 {}
					p {}
				}
				button {
					position: absolute;
					right: 0;
					bottom: 0;
					height: 40px;
					width: 120px;
					background-color: $ucd_bright_gold;
				}
			}
		}
	}
	
	#content, #am-content {
		> div, > h1 {
	  	//margin-left: 90px; // TODO: remove since now using .row 15+90=105 applied to content-row
		}
		#summary {
			#jumplinks, #education {
				width: 50%;
			}
			.left {
				float: left;
			}
		}

	}
	
	.top-bar {
		.top-bar-section {
			 li {
				ul { // .dropdown
					// TODO: Tablet/Mobile right white margin
					//width: 220px !important;
					li {
						a {
							padding: 25px;
						}
					}
				}
			}
		}
	}
	
	.panel-heading#content-panel-heading {
		display:none;
	}
	
	/*
		.dropdown {
			 width: 220px !important;
			 
			 li {
				 a {
					 display: inline-block !important;
					 border: 1px solid red !important;
					 padding:25px;
				 }
			 }
		}
	*/
	
	body.contact-type {
		#content-row {
			margin-top: 15px; // needed to adjust for lack of breadcrumb and top js placement of sidebars
			#content {
				.form-wrap {
					margin-right: 30px;
					padding: 30px 60px;
				}
			}
		}
	}
	
	
}

// Temporary: TODO: Identify and manage breakpoint at 992
@media screen and (max-width: $screen-md-max) { // < 1999
	// Remove margins from smaller than 992

	#util-bar-wrap {
		padding-right: 0;
	}
	#top-bar-wrap, #content-row, #banner-row {
		padding-left: 0; // 90 + 15 px
		padding-right: 0;
	}
	#content, #am-content {
		> div, > h1 {
	  	//margin-left: 0;
		}
	}
	.sidebar {
		&.sidebar-right {
			> div {
				margin-left: 0;
			}
		}
	}
	#footer {
		.foot-wrap {
			#foot-left {
				margin-left: 0;
			}
		}
	}
}

@media screen and (max-width: $screen-lg-min) { // width < 1200
	#footer {
		.footer-nav{
			
			&#foot-left, &#foot-center {
				display: none;
			}
			&#foot-right {
				margin-left: 160px !important;
			}
		}
	}
}
/*----- Breakpoint, xs-md -------*/
@media screen and (max-width: $screen-sm-max) { // width < 991

	#footer {
		.footer-nav{
			border-left-width: 0;
			text-align: center;
			&#foot-right {
				margin-left: 0 !important;
				li {
					width: 220px;
					margin: 0 auto !important;
					border-bottom: 1px solid #FFF;
				}
				li:last-child {
					border-bottom-width: 0;
				}
			}
		}
	}
}
/*------ Desktop (L) breakpoint --------*/
@media screen and (min-width: $screen-md-min) and (max-width: $screen-lg-min) { // 991 < width < 1200
	.sidebar {
		&.sidebar-right {
			> div {
				margin-left: 60px;
			}
		}
	}
}

/*----- Tablet breakpoint -------*/
@media screen and (min-width: $screen-sm-min) and (max-width: $screen-sm-max) { // 768 < width < 991
	head { font-family:"M";}
	body:after{content:"M";}
	#content, #am-content {
		//padding-right: 0 !important;
	}
	
	// Panel resets
	#thumb-section { // Important: Specific content selector since we want to keep our sidebar panel styles
		.panel-group {
			section {
				.readmore {
					display: block;
					margin-top: 8px;
					margin-bottom: 15px;
				}
				ul {
					li {
						margin-bottom: 20px;
					}
				}
				.panel-heading {
					.panel-title {
						a {
							height: 45px;
							.thumb-txt {
								margin-left: 90px;
							}
							img {
								height: 45px;
							}
						}
					}
				}
				.panel-body {
					margin-left: 90px;
				}
			}
		}	
	}
	
}

/*----- Desktop breakpoint -------*/
@media screen and (min-width: $screen-md-min) { // width > 992
	head { font-family:"L";}
	body:after{content:"L";}
	
	.no-gutter-lg {
		padding-left: 0 !important;
		padding-right: 0 !important;
	}
	
	#content, #am-content {
		h1, .breadcrumb {
			//margin-left: 15px;
		}
	}
	
	.sidebar {
		> div {
			margin-left: 92px;
		}
	}
}

/* Override default grid gutter, which was broke on home/index bottom panel row. */
.no-gutter, .no-gutters {
	padding-left: 0 !important;
	padding-right: 0 !important;
}

// Undo left margin from sidebar treatment
#content-row {
	.double {
		.panel-group {
			margin-left: 15px !important;
		}
	}
}
/* /_theme.scss */